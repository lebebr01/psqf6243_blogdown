<!DOCTYPE html><html lang="en-us" >

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  
  
  <meta name="generator" content="Wowchemy 5.0.0-beta.1 for Hugo">
  

  

  
  

  
  
  
  
  
    
    
    
  
  

  

  
  
  
    
  
  <meta name="description" content="Bootstrap The bootstrap is an alternative to the NHST framework already discussed. The primary benefit of the bootstrap is that it comes with fewer assumptions then the NHST framework.">

  
  <link rel="alternate" hreflang="en-us" href="https://psqf6243.brandonlebeau.org/lectures/07-bootstrap-class/">

  







  




  
  
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  

  
  
  
  <meta name="theme-color" content="#1565c0">
  

  
  
  
  <script src="/js/mathjax-config.js"></script>
  

  
  
  
  
    
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha256-FMvZuGapsJLjouA6k7Eo2lusoAX9i0ShlWFG6qt7SLc=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous" media="print" onload="this.media='all'">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github.min.css" crossorigin="anonymous" title="hl-light" media="print" onload="this.media='all'">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" media="print" onload="this.media='all'" disabled>
        
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.css" integrity="sha512-1xoFisiGdy9nvho8EgXuXvnpR5GAMSjFwp40gSRE3NwdUdIMIKuPa7bqoUhLD0O/5tPNhteAsE5XyyMi5reQVA==" crossorigin="anonymous" media="print" onload="this.media='all'">
    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/lazysizes.min.js" integrity="sha512-TmDwFLhg3UA4ZG0Eb4MIyT1O1Mb+Oww5kFG0uHqXsdbyZz9DcvYQhKpGgNkamAI6h2lGGZq2X8ftOJvF/XjTUg==" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    

  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.3aad675291f323c3cd47ae187f0bf0d6.css">

  




  

  


  
  

  

  
  <link rel="manifest" href="/index.webmanifest">
  

  <link rel="icon" type="image/png" href="/images/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_32x32_fill_lanczos_center_3.png">
  <link rel="apple-touch-icon" type="image/png" href="/images/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_192x192_fill_lanczos_center_3.png">

  <link rel="canonical" href="https://psqf6243.brandonlebeau.org/lectures/07-bootstrap-class/">

  
  
  
  
  
  
  
    
  
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="PSQF 6243">
  <meta property="og:url" content="https://psqf6243.brandonlebeau.org/lectures/07-bootstrap-class/">
  <meta property="og:title" content="Bootstrap - In Class Portion | PSQF 6243">
  <meta property="og:description" content="Bootstrap The bootstrap is an alternative to the NHST framework already discussed. The primary benefit of the bootstrap is that it comes with fewer assumptions then the NHST framework."><meta property="og:image" content="https://psqf6243.brandonlebeau.org/media/blue-balloon.jpg">
  <meta property="twitter:image" content="https://psqf6243.brandonlebeau.org/media/blue-balloon.jpg"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2023-09-28T00:00:00&#43;00:00">
    
    <meta property="article:modified_time" content="2023-09-28T00:00:00&#43;00:00">
  

  



  


  


  





  <title>Bootstrap - In Class Portion | PSQF 6243</title>

</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper  ">

  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.7de282f2047be3c570af3a58788341e7.js"></script>

  

<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="Close"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="Search...">
        
      </div>

      

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header">
    












<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">PSQF 6243</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">PSQF 6243</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
            
            
            
              
            
            
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#logistics"><span>Logistics</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/syllabus/"><span>Syllabus</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/schedule/"><span>Schedule</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/content/"><span>Content</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link  active" href="/lectures/"><span>Lecture Notes</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/assignments/"><span>Assignments</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/code/"><span>Software Resources</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
            
            
            
              
            
            
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#people"><span>People</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

      
      
        
      

      
      
      <li class="nav-item">
        <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
      </li>
      

      
      
      <li class="nav-item dropdown theme-dropdown">
        <a href="#" class="nav-link" data-toggle="dropdown" aria-haspopup="true" aria-label="Display preferences">
          <i class="fas fa-moon" aria-hidden="true"></i>
        </a>
        <div class="dropdown-menu">
          <a href="#" class="dropdown-item js-set-theme-light">
            <span>Light</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-dark">
            <span>Dark</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-auto">
            <span>Automatic</span>
          </a>
        </div>
      </li>
      

      

    </ul>

  </div>
</nav>


  </div>

  <div class="page-body">
    





<div class="container-fluid docs">
  <div class="row flex-xl-nowrap">
    <div class="col-12 col-md-3 col-xl-2 docs-sidebar">
      <form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-3" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <span><i class="fas fa-bars"></i></span>
  </button>

  
  <button class="form-control sidebar-search js-search">
    <i class="fas fa-search pr-2"></i>
    <span class="sidebar-search-text">Search...</span>
    <span class="sidebar-search-shortcut">/</span>
  </button>
  
</form>

<nav class="collapse docs-links" id="docs-nav">
  
  
  
  
  
  

  
  
    

    
      

      
      
      


  
    
    
    
    
      
    
    

    
      <ul class="nav docs-sidenav">
        <li class=""><a href="/lectures/">Lecture Notes</a></li>
    
      


  <li class=""><a href="/lectures/01-review/">Review</a></li>



  <li class=""><a href="/lectures/02-linear-regression/">Introduction to Linear Regression</a></li>



  <li class=""><a href="/lectures/02a-in-class-activity/">Linear Regression - In Class</a></li>



  <li class=""><a href="/lectures/03-regression-estimates/">Regression Estimation</a></li>



  <li class=""><a href="/lectures/04-least-squares-simulation/">Least Squares Minimization</a></li>



  <li class=""><a href="/lectures/05-regression-inference/">Inference for regression parameters</a></li>



  <li class=""><a href="/lectures/05a-regression-in-class/">Regression in class</a></li>



  <li class=""><a href="/lectures/06-regression-conditions/">Conditions for Linear Regression</a></li>



  <li class=""><a href="/lectures/07-bootstrap/">Bootstrap</a></li>



  <li class="active"><a href="/lectures/07-bootstrap-class/">Bootstrap - In Class Portion</a></li>



  <li class=""><a href="/lectures/08-multiple-regression/">Multiple Regression</a></li>



  <li class=""><a href="/lectures/09-model-comparison/">Multiple Comparisons</a></li>



  <li class=""><a href="/lectures/10-regression-categorical/">Regression with Categorical Predictors</a></li>



  <li class=""><a href="/lectures/02-linear-regression-inclass/">Linear Regression - In Class</a></li>

      
    

    
      </ul>
    

  
</nav>

    </div>

    
    
    <div class="d-none d-xl-block col-xl-2 docs-toc">
      <ul class="nav toc-top">
        <li><a href="#" id="back_to_top" class="docs-toc-title">Contents</a></li>
      </ul>

      

      
    </div>
    

    <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role="main">

      <article class="article">

        <div class="docs-article-container">
          

          <h1>Bootstrap - In Class Portion</h1>

          <div class="article-style">
            

<div id="TOC">

</div>

<div id="bootstrap" class="section level1">
<h1>Bootstrap</h1>
<p>The bootstrap is an alternative to the NHST framework already discussed. The primary benefit of the bootstrap is that it comes with fewer assumptions then the NHST framework. The only real assumption when doing a bootstrap approach is that the sample is obtained randomly from the population, an assumption already made in the NHST framework. The primary drawback of the bootstrap approach is that it is computationally expensive, therefore, it can take time to peform the procedure.</p>
<div id="bootstrapping-steps" class="section level2">
<h2>Bootstrapping Steps</h2>
<p>The following are the steps when performing a bootstrap.</p>
<ol style="list-style-type: decimal">
<li>Treat the sample data as the population.</li>
<li>Resample, with replacement, from the sample data, ensuring the new sample is the same size as the original.</li>
<li>Estimate the model using the resampled data from step 2.</li>
<li>Repeat steps 2 and 3 many many times (eg, 10,000 or more).</li>
<li>Visualize distribution of effect of interest</li>
</ol>
</div>
<div id="resampling-with-replacement" class="section level2">
<h2>Resampling with replacement</h2>
<p>What is meant by sampling with replacement? Let’s do an example.</p>
<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
## ✔ dplyr     1.1.2     ✔ readr     2.1.4
## ✔ forcats   1.0.0     ✔ stringr   1.5.0
## ✔ ggplot2   3.4.3     ✔ tibble    3.2.1
## ✔ lubridate 1.9.2     ✔ tidyr     1.3.0
## ✔ purrr     1.0.1     
## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()
## ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
<pre class="r"><code>fruit &lt;- data.frame(name = c(&#39;watermelon&#39;, &#39;apple&#39;, 
                             &#39;orange&#39;, &#39;kumquat&#39;, 
                             &#39;grapes&#39;, &#39;canteloupe&#39;, 
                             &#39;kiwi&#39;, &#39;banana&#39;)) |&gt;
    mutate(obs_num = 1:n())

fruit</code></pre>
<pre><code>##         name obs_num
## 1 watermelon       1
## 2      apple       2
## 3     orange       3
## 4    kumquat       4
## 5     grapes       5
## 6 canteloupe       6
## 7       kiwi       7
## 8     banana       8</code></pre>
<pre class="r"><code>slice_sample(fruit, n = nrow(fruit), replace = FALSE)</code></pre>
<pre><code>##         name obs_num
## 1    kumquat       4
## 2      apple       2
## 3 watermelon       1
## 4 canteloupe       6
## 5       kiwi       7
## 6     grapes       5
## 7     orange       3
## 8     banana       8</code></pre>
<pre class="r"><code>slice_sample(fruit, n = nrow(fruit), replace = TRUE)</code></pre>
<pre><code>##         name obs_num
## 1 canteloupe       6
## 2 watermelon       1
## 3     banana       8
## 4     orange       3
## 5 canteloupe       6
## 6     banana       8
## 7      apple       2
## 8     grapes       5</code></pre>
<pre class="r"><code>slice_sample(fruit, n = nrow(fruit), replace = TRUE)</code></pre>
<pre><code>##         name obs_num
## 1    kumquat       4
## 2 canteloupe       6
## 3    kumquat       4
## 4      apple       2
## 5      apple       2
## 6     orange       3
## 7 canteloupe       6
## 8       kiwi       7</code></pre>
</div>
<div id="more-practical-example" class="section level2">
<h2>More practical example</h2>
<p>Let’s load some data to do a more practical example. The following data come from a <a href="https://nces.ed.gov/timss/">TIMSS</a> on science achievement. The data provided is a subset of the available data and is not intended to be representative. Below is a short description of the data. Please don’t hesitate to send any data related questions, happy to provide additional help on interpreting the data appropriately.</p>
<ul>
<li><strong>IDSTUD</strong>: A unique student ID</li>
<li><strong>ITBIRTHM</strong>: The birth month of the student</li>
<li><strong>ITBIRTHY</strong>: The birth year of the student</li>
<li><strong>ITSEX</strong>: The birth sex of the student</li>
<li><strong>ASDAGE</strong>: The age of the student (at time of test)</li>
<li><strong>ASSSCI01</strong>: Overall science scale score</li>
<li><strong>ASSEAR01</strong>: Earth science scale score</li>
<li><strong>ASSLIF01</strong>: Life science scale score</li>
<li><strong>ASSPHY01</strong>: Physics scale score</li>
<li><strong>ASSKNO01</strong>: Science knowing scale score</li>
<li><strong>ASSAPP01</strong>: Science applying scale score</li>
<li><strong>ASSREA01</strong>: Science reasoning scale score</li>
</ul>
<pre class="r"><code>library(tidyverse)

timss &lt;- readr::read_csv(&#39;https://raw.githubusercontent.com/lebebr01/psqf_6243/main/data/timss_grade4_science.csv&#39;) |&gt; 
   filter(ASDAGE &lt; 15)</code></pre>
<pre><code>## Rows: 10029 Columns: 12
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## dbl (12): IDSTUD, ITBIRTHM, ITBIRTHY, ITSEX, ASDAGE, ASSSCI01, ASSEAR01, ASS...
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<pre class="r"><code>head(timss)</code></pre>
<pre><code>## # A tibble: 6 × 12
##   IDSTUD ITBIRTHM ITBIRTHY ITSEX ASDAGE ASSSCI01 ASSEAR01 ASSLIF01 ASSPHY01
##    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
## 1  10101        6     2005     2   9.92     505.     445.     408.     458.
## 2  10102       10     2005     2   9.58     401.     291.     323.     297.
## 3  10103        1     2005     1  10.3      542.     440.     529.     529.
## 4  10104        6     2005     2   9.92     544.     534.     552.     557.
## 5  10105        6     2005     2   9.92     588.     555.     500.     559.
## 6  10106       12     2005     1   9.42     583.     556.     585.     562.
## # ℹ 3 more variables: ASSKNO01 &lt;dbl&gt;, ASSAPP01 &lt;dbl&gt;, ASSREA01 &lt;dbl&gt;</code></pre>
</div>
<div id="two-guiding-questions" class="section level2">
<h2>Two Guiding Questions</h2>
<ol style="list-style-type: decimal">
<li>Is the age of a student related to their overall science scale score?</li>
<li>Is the life science scale score related to the overall science scale score?</li>
</ol>
</div>
<div id="bivariate-exploration" class="section level2">
<h2>Bivariate exploration</h2>
<p>It is important to explore relationships bivariately before going to the model phase. To do this, fill in the outcome of interest in place of “%%” below and fill in the appropriate predictor in place of “^^”. You may also want to fill in an appropriate axis labels in place of “@@” below.</p>
<ul>
<li>Summarize the bivariate association</li>
</ul>
<pre class="r"><code>library(ggformula)</code></pre>
<pre><code>## Loading required package: ggstance</code></pre>
<pre><code>## 
## Attaching package: &#39;ggstance&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:ggplot2&#39;:
## 
##     geom_errorbarh, GeomErrorbarh</code></pre>
<pre><code>## Loading required package: scales</code></pre>
<pre><code>## 
## Attaching package: &#39;scales&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:purrr&#39;:
## 
##     discard</code></pre>
<pre><code>## The following object is masked from &#39;package:readr&#39;:
## 
##     col_factor</code></pre>
<pre><code>## Loading required package: ggridges</code></pre>
<pre><code>## 
## New to ggformula?  Try the tutorials: 
## 	learnr::run_tutorial(&quot;introduction&quot;, package = &quot;ggformula&quot;)
## 	learnr::run_tutorial(&quot;refining&quot;, package = &quot;ggformula&quot;)</code></pre>
<pre class="r"><code>theme_set(theme_bw(base_size = 18))

gf_point(ASSSCI01 ~ ASDAGE, data = timss, size = 4) |&gt; 
  gf_smooth(method = &#39;lm&#39;, size = 1.5) |&gt;
  gf_smooth(method = &#39;loess&#39;, size = 1.5, color = &#39;green&#39;) |&gt;
  gf_labs(x = &quot;Age&quot;,
          y = &quot;Overall Science&quot;)</code></pre>
<p><img src="/lectures/07-bootstrap-class_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<pre class="r"><code>mosaic::cor(ASSSCI01 ~ ASDAGE, data = timss) |&gt; round(2)</code></pre>
<pre><code>## Registered S3 method overwritten by &#39;mosaic&#39;:
##   method                           from   
##   fortify.SpatialPolygonsDataFrame ggplot2</code></pre>
<pre><code>## [1] -0.04</code></pre>
</div>
<div id="estimate-parameters" class="section level2">
<h2>Estimate Parameters</h2>
<p>To do this, fill in the outcome of interest in place of “%%” below and fill in the appropriate predictor in place of “^^”.</p>
<ul>
<li>Interpret the following parameter estimates in the context of the current problem. (ie., what do these parameter estimates mean?)</li>
</ul>
<pre class="r"><code>timss_model &lt;- lm(ASSSCI01 ~ ASDAGE, data = timss)

summary(timss_model)</code></pre>
<pre><code>## 
## Call:
## lm(formula = ASSSCI01 ~ ASDAGE, data = timss)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -305.769  -51.969    4.919   56.707  272.217 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  613.563     17.064  35.956  &lt; 2e-16 ***
## ASDAGE        -6.687      1.669  -4.007 6.18e-05 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 80.89 on 10025 degrees of freedom
## Multiple R-squared:  0.001599,	Adjusted R-squared:  0.0015 
## F-statistic: 16.06 on 1 and 10025 DF,  p-value: 6.183e-05</code></pre>
<pre class="r"><code>confint(timss_model)</code></pre>
<pre><code>##                  2.5 %     97.5 %
## (Intercept) 580.114047 647.012616
## ASDAGE       -9.957345  -3.415915</code></pre>
</div>
<div id="resample-these-data" class="section level2">
<h2>Resample these data</h2>
<p>For the astronauts data, to resample, a similar idea can be made. Essentially, we are treating these data as a random sample of some population of space missions. We again, would resample, with replacement, which means that multiple missions would likely show up in the resampling procedure.</p>
<pre class="r"><code>slice_sample(timss, n = nrow(timss), replace = TRUE) |&gt; 
  count(IDSTUD) |&gt;
  arrange(-n) |&gt;
  head()</code></pre>
<pre><code>## # A tibble: 6 × 2
##    IDSTUD     n
##     &lt;dbl&gt; &lt;int&gt;
## 1  630315     7
## 2  320210     6
## 3  820106     6
## 4 1590716     6
## 5  100213     5
## 6  100526     5</code></pre>
<pre class="r"><code>resamp_lm &lt;- slice_sample(timss, n = nrow(timss), replace = TRUE) %&gt;% 
  lm(ASSSCI01 ~ ASDAGE, data = .)

summary(resamp_lm)</code></pre>
<pre><code>## 
## Call:
## lm(formula = ASSSCI01 ~ ASDAGE, data = .)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -306.206  -51.669    4.522   56.847  273.474 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  636.401     16.881  37.700  &lt; 2e-16 ***
## ASDAGE        -8.945      1.650  -5.421 6.06e-08 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 80.41 on 10025 degrees of freedom
## Multiple R-squared:  0.002923,	Adjusted R-squared:  0.002824 
## F-statistic: 29.39 on 1 and 10025 DF,  p-value: 6.06e-08</code></pre>
<pre class="r"><code>confint(resamp_lm)</code></pre>
<pre><code>##                2.5 %     97.5 %
## (Intercept) 603.3115 669.491006
## ASDAGE      -12.1791  -5.710494</code></pre>
<pre class="r"><code>nrow(timss)^nrow(timss)</code></pre>
<pre><code>## [1] Inf</code></pre>
<div id="questions-to-consider" class="section level3">
<h3>Questions to consider</h3>
<ol style="list-style-type: decimal">
<li>Do the parameter estimates differ from before? Why or why not?</li>
<li>Would you come to substantially different conclusions from the original analysis? Why or why not?</li>
</ol>
<p>Let’s now repeat this a bunch of times.</p>
<pre class="r"><code>set.seed(2022)

resample_timss &lt;- function(data, model_equation) {
  timss_resample &lt;- slice_sample(data, n = nrow(data), replace = TRUE)

  lm(model_equation, data = timss_resample) |&gt;
    coef()
}</code></pre>
<p>Run this function a bunch of times manually, what happens to the estimates? Why is this happening?</p>
<pre class="r"><code>resample_timss(data = timss, model_equation = ASSSCI01 ~ ASDAGE)</code></pre>
<pre><code>## (Intercept)      ASDAGE 
##  593.768824   -4.636762</code></pre>
</div>
</div>
<div id="make-sure-future.apply-is-installed" class="section level2">
<h2>Make sure future.apply is installed</h2>
<p>The following code chunk makes sure the future.apply function is installed for parallel processing in R. If you get an error, you can uncomment (delete the <code>#</code> symbol) in the first line of code to (hopefully) install the package yourself.</p>
<pre class="r"><code># install.packages(&quot;future.apply&quot;)
library(future.apply)</code></pre>
<pre><code>## Loading required package: future</code></pre>
<pre class="r"><code>plan(multisession)</code></pre>
</div>
<div id="replicate" class="section level2">
<h2>Replicate</h2>
<p>The following code replicates the analysis many times. Pick an initial value for N and fill in the model equation to match your code above. I will ask you to change this N value later.</p>
<pre class="r"><code>timss_coef &lt;- future.apply::future_replicate(10000, 
                        resample_timss(data = timss, 
                        model_equation = ASSSCI01 ~ ASDAGE), simplify = FALSE) |&gt;
                        dplyr::bind_rows() |&gt; 
                        tidyr::pivot_longer(cols = everything())

#head(timss_coef)</code></pre>
</div>
<div id="visualize-results" class="section level2">
<h2>Visualize results</h2>
<p>The following code visualizes the results of the analysis above. Explore the following questions.</p>
<ol style="list-style-type: decimal">
<li>What does this distribution show/represent?</li>
<li>What are key features of this distribution?</li>
<li>How do these values compare to the original linear regression results?
<ul>
<li>Are there comparable statistics here compared to those?</li>
</ul></li>
</ol>
<pre class="r"><code>gf_density(~ value, data = timss_coef) |&gt;
  gf_facet_wrap(~ name, scales = &#39;free&#39;) |&gt;
  gf_labs(x = &quot;Regression Estimates&quot;)</code></pre>
<p><img src="/lectures/07-bootstrap-class_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
</div>
<div id="change-the-n-value" class="section level2">
<h2>Change the N value</h2>
<p>Now, change the N value for the replicate step (you can either add a new cell to copy/paste the code or just change it in the code above).</p>
<ul>
<li>What happens to the resulting figure when the N increases?</li>
<li>What value for N seems to be reasonable? Why?</li>
</ul>
<pre class="r"><code>head(timss_coef)</code></pre>
<pre><code>## # A tibble: 6 × 2
##   name         value
##   &lt;chr&gt;        &lt;dbl&gt;
## 1 (Intercept) 610.  
## 2 ASDAGE       -6.56
## 3 (Intercept) 603.  
## 4 ASDAGE       -5.67
## 5 (Intercept) 620.  
## 6 ASDAGE       -7.25</code></pre>
<pre class="r"><code>df_stats(value ~ name, data = timss_coef, 
         mean, median, sd, IQR)</code></pre>
<pre><code>##   response        name       mean     median        sd       IQR
## 1    value (Intercept) 613.863905 614.021876 20.493175 27.714280
## 2    value      ASDAGE  -6.714967  -6.740487  2.005943  2.728819</code></pre>
<pre class="r"><code>(-6.687 - 0) / 2.012</code></pre>
<pre><code>## [1] -3.323559</code></pre>
<pre class="r"><code>pnorm(-3.3235, lower.tail = TRUE)</code></pre>
<pre><code>## [1] 0.0004444771</code></pre>
<pre class="r"><code>pnorm(-3.3235, lower.tail = TRUE) * 2</code></pre>
<pre><code>## [1] 0.0008889542</code></pre>
<pre class="r"><code>summary(timss_model)</code></pre>
<pre><code>## 
## Call:
## lm(formula = ASSSCI01 ~ ASDAGE, data = timss)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -305.769  -51.969    4.919   56.707  272.217 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  613.563     17.064  35.956  &lt; 2e-16 ***
## ASDAGE        -6.687      1.669  -4.007 6.18e-05 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 80.89 on 10025 degrees of freedom
## Multiple R-squared:  0.001599,	Adjusted R-squared:  0.0015 
## F-statistic: 16.06 on 1 and 10025 DF,  p-value: 6.183e-05</code></pre>
<pre class="r"><code>plot(timss_model, which = 1:5)</code></pre>
<p><img src="/lectures/07-bootstrap-class_files/figure-html/unnamed-chunk-23-1.png" width="672" /><img src="/lectures/07-bootstrap-class_files/figure-html/unnamed-chunk-23-2.png" width="672" /><img src="/lectures/07-bootstrap-class_files/figure-html/unnamed-chunk-23-3.png" width="672" /><img src="/lectures/07-bootstrap-class_files/figure-html/unnamed-chunk-23-4.png" width="672" /><img src="/lectures/07-bootstrap-class_files/figure-html/unnamed-chunk-23-5.png" width="672" /></p>
<pre class="r"><code>confint(timss_model)</code></pre>
<pre><code>##                  2.5 %     97.5 %
## (Intercept) 580.114047 647.012616
## ASDAGE       -9.957345  -3.415915</code></pre>
<pre class="r"><code>df_stats(value ~ name, data = timss_coef, 
         quantile(c(0.025, 0.975)))</code></pre>
<pre><code>##   response        name      2.5%      97.5%
## 1    value (Intercept) 574.15367 653.425218
## 2    value      ASDAGE -10.57731  -2.829617</code></pre>
</div>
</div>

          </div>

          



          
          
          <div class="article-widget">
            
<div class="post-nav">
  
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Previous</div>
    <a href="/lectures/07-bootstrap/" rel="next">Bootstrap</a>
  </div>
  
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Next</div>
    <a href="/lectures/08-multiple-regression/" rel="prev">Multiple Regression</a>
  </div>
  
</div>

          </div>
          
        </div>

        <div class="body-footer">
          <p>Last updated on Sep 28, 2023</p>

          



          




          


        </div>

      </article>

      <footer class="site-footer">
  

  <p class="powered-by">
    
  </p>

  
  






  <p class="powered-by">
    
    
    
    Published with
    <a href="https://wowchemy.com/?utm_campaign=poweredby" target="_blank" rel="noopener">Wowchemy</a>  —
    the free, <a href="https://github.com/wowchemy/wowchemy-hugo-modules" target="_blank" rel="noopener">
    open source</a> website builder that empowers creators.
    
  </p>
</footer>


    </main>
  </div>
</div>

  </div>

  <div class="page-footer">
    
    
  </div>

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

      
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      

      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js" integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js" integrity="sha512-TDKKr+IvoqZnPzc3l35hdjpHD0m+b2EC2SrLEgKDRWpxf2rFCxemkgvJ5kfU48ip+Y+m2XVKyOCD85ybtlZDmw==" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/r.min.js"></script>
        
      

    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.js" integrity="sha512-SeiQaaDh73yrb56sTW/RgVdi/mMqNeM2oBwubFHagc5BkixSpP1fvqF47mKzPGWYSSy4RwbBunrJBQ4Co8fRWA==" crossorigin="anonymous"></script>
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'event' : "Events",
        'slides' : "Slides"
        };
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.2/anchor.min.js" integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    

    
    

    
    

    
    
    
    
    
    
    
    
    
    
      
      
    
    
    <script src="/js/wowchemy.min.d4185df71ecf716f1c4e7ef5f3d4e2b8.js"></script>

    






</body>
</html>
