<!DOCTYPE html><html lang="en-us" >

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  
  
  <meta name="generator" content="Wowchemy 5.0.0-beta.1 for Hugo">
  

  

  
  

  
  
  
  
  
    
    
    
  
  

  

  
  
  
    
  
  <meta name="description" content="Regression Bootstrap - Class">

  
  <link rel="alternate" hreflang="en-us" href="https://psqf6243.brandonlebeau.org/lectures/08-bootstrap-class/">

  







  




  
  
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  

  
  
  
  <meta name="theme-color" content="#1565c0">
  

  
  
  
  <script src="/js/mathjax-config.js"></script>
  

  
  
  
  
    
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha256-FMvZuGapsJLjouA6k7Eo2lusoAX9i0ShlWFG6qt7SLc=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous" media="print" onload="this.media='all'">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github.min.css" crossorigin="anonymous" title="hl-light" media="print" onload="this.media='all'">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" media="print" onload="this.media='all'" disabled>
        
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.css" integrity="sha512-1xoFisiGdy9nvho8EgXuXvnpR5GAMSjFwp40gSRE3NwdUdIMIKuPa7bqoUhLD0O/5tPNhteAsE5XyyMi5reQVA==" crossorigin="anonymous" media="print" onload="this.media='all'">
    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/lazysizes.min.js" integrity="sha512-TmDwFLhg3UA4ZG0Eb4MIyT1O1Mb+Oww5kFG0uHqXsdbyZz9DcvYQhKpGgNkamAI6h2lGGZq2X8ftOJvF/XjTUg==" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    

  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.3aad675291f323c3cd47ae187f0bf0d6.css">

  




  

  


  
  

  

  
  <link rel="manifest" href="/index.webmanifest">
  

  <link rel="icon" type="image/png" href="/images/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_32x32_fill_lanczos_center_3.png">
  <link rel="apple-touch-icon" type="image/png" href="/images/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_192x192_fill_lanczos_center_3.png">

  <link rel="canonical" href="https://psqf6243.brandonlebeau.org/lectures/08-bootstrap-class/">

  
  
  
  
  
  
  
    
  
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="PSQF 6243">
  <meta property="og:url" content="https://psqf6243.brandonlebeau.org/lectures/08-bootstrap-class/">
  <meta property="og:title" content="Regression Bootstrap - Class | PSQF 6243">
  <meta property="og:description" content="Regression Bootstrap - Class"><meta property="og:image" content="https://psqf6243.brandonlebeau.org/media/blue-balloon.jpg">
  <meta property="twitter:image" content="https://psqf6243.brandonlebeau.org/media/blue-balloon.jpg"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2021-10-08T00:00:00&#43;00:00">
    
    <meta property="article:modified_time" content="2021-10-08T00:00:00&#43;00:00">
  

  



  


  


  





  <title>Regression Bootstrap - Class | PSQF 6243</title>

</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper  ">

  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.7de282f2047be3c570af3a58788341e7.js"></script>

  

<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="Close"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="Search...">
        
      </div>

      

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header">
    












<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">PSQF 6243</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">PSQF 6243</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
            
            
            
              
            
            
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#logistics"><span>Logistics</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/syllabus/"><span>Syllabus</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/schedule/"><span>Schedule</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/content/"><span>Content</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link  active" href="/lectures/"><span>Lecture Notes</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/assignments/"><span>Assignments</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/code/"><span>Software Resources</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
            
            
            
              
            
            
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#people"><span>People</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

      
      
        
      

      
      
      <li class="nav-item">
        <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
      </li>
      

      
      
      <li class="nav-item dropdown theme-dropdown">
        <a href="#" class="nav-link" data-toggle="dropdown" aria-haspopup="true" aria-label="Display preferences">
          <i class="fas fa-moon" aria-hidden="true"></i>
        </a>
        <div class="dropdown-menu">
          <a href="#" class="dropdown-item js-set-theme-light">
            <span>Light</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-dark">
            <span>Dark</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-auto">
            <span>Automatic</span>
          </a>
        </div>
      </li>
      

      

    </ul>

  </div>
</nav>


  </div>

  <div class="page-body">
    





<div class="container-fluid docs">
  <div class="row flex-xl-nowrap">
    <div class="col-12 col-md-3 col-xl-2 docs-sidebar">
      <form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-3" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <span><i class="fas fa-bars"></i></span>
  </button>

  
  <button class="form-control sidebar-search js-search">
    <i class="fas fa-search pr-2"></i>
    <span class="sidebar-search-text">Search...</span>
    <span class="sidebar-search-shortcut">/</span>
  </button>
  
</form>

<nav class="collapse docs-links" id="docs-nav">
  
  
  
  
  
  

  
  
    

    
      

      
      
      


  
    
    
    
    
      
    
    

    
      <ul class="nav docs-sidenav">
        <li class=""><a href="/lectures/">Lecture Notes</a></li>
    
      


  <li class=""><a href="/lectures/review/">Review</a></li>



  <li class=""><a href="/lectures/review-class/">Review - class</a></li>



  <li class=""><a href="/lectures/intro-regression/">Intro to Linear Regression</a></li>



  <li class=""><a href="/lectures/linear-regression-class/">Intro to Linear Regression - class</a></li>



  <li class=""><a href="/lectures/regression-estimates/">Linear Regression Estimates</a></li>



  <li class=""><a href="/lectures/regression-estimates-class/">Linear Regression Estimates - class</a></li>



  <li class=""><a href="/lectures/least-squares-simulation/">Least Square Simulation</a></li>



  <li class=""><a href="/lectures/regression-inference-p1/">Regression Inference - Part 1</a></li>



  <li class=""><a href="/lectures/05-regression-inference/">Regression Inference - Part 1</a></li>



  <li class=""><a href="/lectures/05a-regression-inference/">Regression Inference - Part 2</a></li>



  <li class=""><a href="/lectures/05a-regression-inference-class/">Regression Inference - Part 2 - Class</a></li>



  <li class=""><a href="/lectures/06-t-vs-norm/">t vs Normal</a></li>



  <li class=""><a href="/lectures/07-regression-assumptions/">Regression Assumptions</a></li>



  <li class=""><a href="/lectures/07a-regression-assumptions/">Regression Assumptions - New Package</a></li>



  <li class=""><a href="/lectures/08-bootstrap/">Regression Bootstrap</a></li>



  <li class="active"><a href="/lectures/08-bootstrap-class/">Regression Bootstrap - Class</a></li>



  <li class=""><a href="/lectures/09-multiple-regression-p1/">Multiple Regression - Part 1</a></li>



  <li class=""><a href="/lectures/09-multiple-regression-p1-class/">Multiple Regression - Part 1</a></li>



  <li class=""><a href="/lectures/10-model-comparison/">Model Comparison</a></li>



  <li class=""><a href="/lectures/10-model-comparison-class/">Model Comparison</a></li>



  <li class=""><a href="/lectures/11-multicollinearity/">Multicollinearity</a></li>



  <li class=""><a href="/lectures/11-multicollinearity-class/">Multicollinearity</a></li>



  <li class=""><a href="/lectures/12-regression-categorical/">Regression Categorical Predictors</a></li>



  <li class=""><a href="/lectures/12-regression-categorical-class/">Regression Categorical Predictors</a></li>



  <li class=""><a href="/lectures/13-regression-categorical-p2/">Regression Categorical Predictors - p2</a></li>



  <li class=""><a href="/lectures/14-pairwise/">Pairwise Contrasts</a></li>



  <li class=""><a href="/lectures/15-multiple-categorical/">Multiple Categorical Predictors</a></li>

      
    

    
      </ul>
    

  
</nav>

    </div>

    
    
    <div class="d-none d-xl-block col-xl-2 docs-toc">
      <ul class="nav toc-top">
        <li><a href="#" id="back_to_top" class="docs-toc-title">Contents</a></li>
      </ul>

      

      
    </div>
    

    <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role="main">

      <article class="article">

        <div class="docs-article-container">
          

          <h1>Regression Bootstrap - Class</h1>

          <div class="article-style">
            
<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>

<div id="TOC">

</div>

<div id="bootstrap" class="section level1">
<h1>Bootstrap</h1>
<p>The bootstrap is an alternative to the NHST framework already discussed. The primary benefit of the bootstrap is that it comes with fewer assumptions then the NHST framework. The only real assumption when doing a bootstrap approach is that the sample is obtained randomly from the population, an assumption already made in the NHST framework. The primary drawback of the bootstrap approach is that it is computationally expensive, therefore, it can take time to peform the procedure.</p>
<div id="bootstrapping-steps" class="section level2">
<h2>Bootstrapping Steps</h2>
<p>The following are the steps when performing a bootstrap.</p>
<ol style="list-style-type: decimal">
<li>Treat the sample data as the population.</li>
<li>Resample, with replacement, from the sample data, ensuring the new sample is the same size as the original.</li>
<li>Estimate the model using the resampled data from step 2.</li>
<li>Repeat steps 2 and 3 many many times (eg, 10,000 or more).</li>
<li>Visualize distribution of effect of interest</li>
</ol>
</div>
<div id="resampling-with-replacement" class="section level2">
<h2>Resampling with replacement</h2>
<p>What is meant by sampling with replacement? Let’s do an example.</p>
<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──</code></pre>
<pre><code>## ✓ ggplot2 3.3.5     ✓ purrr   0.3.4
## ✓ tibble  3.1.6     ✓ dplyr   1.0.7
## ✓ tidyr   1.1.4     ✓ stringr 1.4.0
## ✓ readr   2.0.2     ✓ forcats 0.5.1</code></pre>
<pre><code>## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code>fruit &lt;- data.frame(name = c(&#39;watermelon&#39;, &#39;apple&#39;, &#39;orange&#39;, 
                             &#39;kumquat&#39;, &#39;grapes&#39;, &#39;canteloupe&#39;, 
                             &#39;kiwi&#39;, &#39;banana&#39;)) %&gt;%
    mutate(obs_num = 1:n())

fruit</code></pre>
<pre><code>##         name obs_num
## 1 watermelon       1
## 2      apple       2
## 3     orange       3
## 4    kumquat       4
## 5     grapes       5
## 6 canteloupe       6
## 7       kiwi       7
## 8     banana       8</code></pre>
<pre class="r"><code>slice_sample(fruit, n = nrow(fruit), replace = FALSE)</code></pre>
<pre><code>##         name obs_num
## 1     orange       3
## 2 canteloupe       6
## 3     grapes       5
## 4    kumquat       4
## 5 watermelon       1
## 6     banana       8
## 7      apple       2
## 8       kiwi       7</code></pre>
<pre class="r"><code>slice_sample(fruit, n = nrow(fruit), replace = TRUE)</code></pre>
<pre><code>##         name obs_num
## 1    kumquat       4
## 2     banana       8
## 3 watermelon       1
## 4 canteloupe       6
## 5       kiwi       7
## 6     banana       8
## 7      apple       2
## 8     grapes       5</code></pre>
</div>
<div id="more-practical-example" class="section level2">
<h2>More practical example</h2>
<p>Let’s load some data to do a more practical example. The following data come from a <a href="https://github.com/rfordatascience/tidytuesday/blob/master/data/2020/2020-07-14/readme.md">Tidy Tuesday example</a> on astronauts and their missions in space.</p>
<table>
<colgroup>
<col width="26%" />
<col width="10%" />
<col width="63%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">variable</th>
<th align="left">class</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">id</td>
<td align="left">double</td>
<td>ID</td>
</tr>
<tr class="even">
<td align="left">number</td>
<td align="left">double</td>
<td>Number</td>
</tr>
<tr class="odd">
<td align="left">nationwide_number</td>
<td align="left">double</td>
<td>Number within country</td>
</tr>
<tr class="even">
<td align="left">name</td>
<td align="left">character</td>
<td>Full name</td>
</tr>
<tr class="odd">
<td align="left">original_name</td>
<td align="left">character</td>
<td>Name in original language</td>
</tr>
<tr class="even">
<td align="left">sex</td>
<td align="left">character</td>
<td>Sex</td>
</tr>
<tr class="odd">
<td align="left">year_of_birth</td>
<td align="left">double</td>
<td>Year of birth</td>
</tr>
<tr class="even">
<td align="left">nationality</td>
<td align="left">character</td>
<td>Nationality</td>
</tr>
<tr class="odd">
<td align="left">military_civilian</td>
<td align="left">character</td>
<td>Military status</td>
</tr>
<tr class="even">
<td align="left">selection</td>
<td align="left">character</td>
<td>Name of selection program</td>
</tr>
<tr class="odd">
<td align="left">year_of_selection</td>
<td align="left">double</td>
<td>Year of selection program</td>
</tr>
<tr class="even">
<td align="left">mission_number</td>
<td align="left">double</td>
<td>Mission number</td>
</tr>
<tr class="odd">
<td align="left">total_number_of_missions</td>
<td align="left">double</td>
<td>Total number of missions</td>
</tr>
<tr class="even">
<td align="left">occupation</td>
<td align="left">character</td>
<td>Occupation</td>
</tr>
<tr class="odd">
<td align="left">year_of_mission</td>
<td align="left">double</td>
<td>Mission year</td>
</tr>
<tr class="even">
<td align="left">mission_title</td>
<td align="left">character</td>
<td>Mission title</td>
</tr>
<tr class="odd">
<td align="left">ascend_shuttle</td>
<td align="left">character</td>
<td>Name of ascent shuttle</td>
</tr>
<tr class="even">
<td align="left">in_orbit</td>
<td align="left">character</td>
<td>Name of spacecraft used in orbit</td>
</tr>
<tr class="odd">
<td align="left">descend_shuttle</td>
<td align="left">character</td>
<td>Name of descent shuttle</td>
</tr>
<tr class="even">
<td align="left">hours_mission</td>
<td align="left">double</td>
<td>Duration of mission in hours</td>
</tr>
<tr class="odd">
<td align="left">total_hrs_sum</td>
<td align="left">double</td>
<td>Total duration of all missions in hours</td>
</tr>
<tr class="even">
<td align="left">field21</td>
<td align="left">double</td>
<td>Instances of EVA by mission</td>
</tr>
<tr class="odd">
<td align="left">eva_hrs_mission</td>
<td align="left">double</td>
<td>Duration of extravehicular activities during the mission</td>
</tr>
<tr class="even">
<td align="left">total_eva_hrs</td>
<td align="left">double</td>
<td>Total duration of all extravehicular activities in hours</td>
</tr>
</tbody>
</table>
<pre class="r"><code>astronauts &lt;- readr::read_csv(&#39;https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-07-14/astronauts.csv&#39;) %&gt;%
   mutate(year_centered = year_of_mission - min(year_of_mission))</code></pre>
<pre><code>## Rows: 1277 Columns: 24</code></pre>
<pre><code>## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr (11): name, original_name, sex, nationality, military_civilian, selectio...
## dbl (13): id, number, nationwide_number, year_of_birth, year_of_selection, m...</code></pre>
<pre><code>## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<pre class="r"><code>head(astronauts)</code></pre>
<pre><code>## # A tibble: 6 × 25
##      id number nationwide_number name      original_name     sex   year_of_birth
##   &lt;dbl&gt;  &lt;dbl&gt;             &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;             &lt;chr&gt;         &lt;dbl&gt;
## 1     1      1                 1 Gagarin,… ГАГАРИН Юрий Але… male           1934
## 2     2      2                 2 Titov, G… ТИТОВ Герман Сте… male           1935
## 3     3      3                 1 Glenn, J… Glenn, John H., … male           1921
## 4     4      3                 1 Glenn, J… Glenn, John H., … male           1921
## 5     5      4                 2 Carpente… Carpenter, M. Sc… male           1925
## 6     6      5                 2 Nikolaye… НИКОЛАЕВ Андриян… male           1929
## # … with 18 more variables: nationality &lt;chr&gt;, military_civilian &lt;chr&gt;,
## #   selection &lt;chr&gt;, year_of_selection &lt;dbl&gt;, mission_number &lt;dbl&gt;,
## #   total_number_of_missions &lt;dbl&gt;, occupation &lt;chr&gt;, year_of_mission &lt;dbl&gt;,
## #   mission_title &lt;chr&gt;, ascend_shuttle &lt;chr&gt;, in_orbit &lt;chr&gt;,
## #   descend_shuttle &lt;chr&gt;, hours_mission &lt;dbl&gt;, total_hrs_sum &lt;dbl&gt;,
## #   field21 &lt;dbl&gt;, eva_hrs_mission &lt;dbl&gt;, total_eva_hrs &lt;dbl&gt;,
## #   year_centered &lt;dbl&gt;</code></pre>
<pre class="r"><code>library(ggformula)</code></pre>
<pre><code>## Loading required package: ggstance</code></pre>
<pre><code>## 
## Attaching package: &#39;ggstance&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:ggplot2&#39;:
## 
##     geom_errorbarh, GeomErrorbarh</code></pre>
<pre><code>## Loading required package: scales</code></pre>
<pre><code>## 
## Attaching package: &#39;scales&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:purrr&#39;:
## 
##     discard</code></pre>
<pre><code>## The following object is masked from &#39;package:readr&#39;:
## 
##     col_factor</code></pre>
<pre><code>## Loading required package: ggridges</code></pre>
<pre><code>## 
## New to ggformula?  Try the tutorials: 
##  learnr::run_tutorial(&quot;introduction&quot;, package = &quot;ggformula&quot;)
##  learnr::run_tutorial(&quot;refining&quot;, package = &quot;ggformula&quot;)</code></pre>
<pre class="r"><code>theme_set(theme_bw(base_size = 18))

gf_point(hours_mission ~ year_of_mission, data = astronauts, size = 5) %&gt;%
  gf_smooth(method = &#39;loess&#39;, size = 2) %&gt;%
  gf_smooth(method = &#39;lm&#39;, linetype = 2, color = &#39;lightblue&#39;, size = 2) %&gt;%
  gf_labs(x = &#39;Year of Mission&#39;,
          y = &quot;Mission Hours&quot;)</code></pre>
<p><img src="/lectures/08-bootstrap-class_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<pre class="r"><code>mission_lm &lt;- lm(hours_mission ~ year_of_mission, data = astronauts)

summary(mission_lm)</code></pre>
<pre><code>## 
## Call:
## lm(formula = hours_mission ~ year_of_mission, data = astronauts)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -2304.9  -990.7  -653.0   459.6  9484.8 
## 
## Coefficients:
##                   Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)     -1.015e+05  7.050e+03  -14.39   &lt;2e-16 ***
## year_of_mission  5.139e+01  3.535e+00   14.54   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 1589 on 1275 degrees of freedom
## Multiple R-squared:  0.1422, Adjusted R-squared:  0.1415 
## F-statistic: 211.4 on 1 and 1275 DF,  p-value: &lt; 2.2e-16</code></pre>
<pre class="r"><code>confint(mission_lm)</code></pre>
<pre><code>##                         2.5 %       97.5 %
## (Intercept)     -115283.26228 -87619.58837
## year_of_mission      44.45546     58.32448</code></pre>
<pre class="r"><code>mission_lm &lt;- lm(hours_mission ~ year_centered, data = astronauts)

summary(mission_lm)</code></pre>
<pre><code>## 
## Call:
## lm(formula = hours_mission ~ year_centered, data = astronauts)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -2304.9  -990.7  -653.0   459.6  9484.8 
## 
## Coefficients:
##               Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)   -675.690    126.808  -5.328 1.17e-07 ***
## year_centered   51.390      3.535  14.539  &lt; 2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 1589 on 1275 degrees of freedom
## Multiple R-squared:  0.1422, Adjusted R-squared:  0.1415 
## F-statistic: 211.4 on 1 and 1275 DF,  p-value: &lt; 2.2e-16</code></pre>
<pre class="r"><code>confint(mission_lm)</code></pre>
<pre><code>##                    2.5 %     97.5 %
## (Intercept)   -924.46496 -426.91563
## year_centered   44.45546   58.32448</code></pre>
<pre class="r"><code>plot(mission_lm)</code></pre>
<p><img src="/lectures/08-bootstrap-class_files/figure-html/unnamed-chunk-8-1.png" width="672" /><img src="/lectures/08-bootstrap-class_files/figure-html/unnamed-chunk-8-2.png" width="672" /><img src="/lectures/08-bootstrap-class_files/figure-html/unnamed-chunk-8-3.png" width="672" /><img src="/lectures/08-bootstrap-class_files/figure-html/unnamed-chunk-8-4.png" width="672" /></p>
</div>
<div id="resample-these-data" class="section level2">
<h2>Resample these data</h2>
<p>For the astronauts data, to resample, a similar idea can be made. Essentially, we are treating these data as a random sample of some population of space missions. We again, would resample, with replacement, which means that multiple missions would likely show up in the resampling procedure.</p>
<pre class="r"><code>slice_sample(astronauts, n = nrow(astronauts), replace = TRUE) %&gt;% 
  count(id) %&gt;%
  gf_col(n ~ id)</code></pre>
<p><img src="/lectures/08-bootstrap-class_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<pre class="r"><code>resamp_lm &lt;- slice_sample(astronauts, n = nrow(astronauts), replace = TRUE) %&gt;% 
  lm(hours_mission ~ year_centered, data = .)

summary(resamp_lm)</code></pre>
<pre><code>## 
## Call:
## lm(formula = hours_mission ~ year_centered, data = .)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -2435.5 -1020.9  -709.6   483.7  8108.5 
## 
## Coefficients:
##               Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)   -671.221    130.188  -5.156 2.93e-07 ***
## year_centered   53.564      3.626  14.773  &lt; 2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 1643 on 1275 degrees of freedom
## Multiple R-squared:  0.1462, Adjusted R-squared:  0.1455 
## F-statistic: 218.2 on 1 and 1275 DF,  p-value: &lt; 2.2e-16</code></pre>
<pre class="r"><code>confint(resamp_lm)</code></pre>
<pre><code>##                    2.5 %     97.5 %
## (Intercept)   -926.62634 -415.81470
## year_centered   46.45077   60.67686</code></pre>
<p>Let’s now repeat this a bunch of times.</p>
<pre class="r"><code>set.seed(2021)

resample_astronaut &lt;- function(...) {
  astronaut_resample &lt;- slice_sample(astronauts, n = nrow(astronauts), replace = TRUE)

  astronaut_resample %&gt;%
    lm(hours_mission ~ year_centered, data = .) %&gt;%
    coef(.) %&gt;%
    broom::tidy()
}</code></pre>
<pre class="r"><code>resample_astronaut()</code></pre>
<pre><code>## # A tibble: 2 × 2
##   names              x
##   &lt;chr&gt;          &lt;dbl&gt;
## 1 (Intercept)   -685. 
## 2 year_centered   52.1</code></pre>
<pre class="r"><code>astronaut_coef &lt;- map_dfr(1:10000, resample_astronaut)</code></pre>
<pre class="r"><code>gf_density(~ x, data = astronaut_coef) %&gt;%
  gf_facet_wrap(~ names, scales = &#39;free&#39;) %&gt;%
  gf_labs(x = &quot;Regression Estimates&quot;)</code></pre>
<p><img src="/lectures/08-bootstrap-class_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<pre class="r"><code>head(astronaut_coef)</code></pre>
<pre><code>## # A tibble: 6 × 2
##   names              x
##   &lt;chr&gt;          &lt;dbl&gt;
## 1 (Intercept)   -585. 
## 2 year_centered   47.6
## 3 (Intercept)   -659. 
## 4 year_centered   51.4
## 5 (Intercept)   -698. 
## 6 year_centered   53.1</code></pre>
<pre class="r"><code>dim(astronaut_coef)</code></pre>
<pre><code>## [1] 20000     2</code></pre>
<pre class="r"><code>library(mosaic)</code></pre>
<pre><code>## Registered S3 method overwritten by &#39;mosaic&#39;:
##   method                           from   
##   fortify.SpatialPolygonsDataFrame ggplot2</code></pre>
<pre><code>## 
## The &#39;mosaic&#39; package masks several functions from core packages in order to add 
## additional features.  The original behavior of these functions should not be affected by this.</code></pre>
<pre><code>## 
## Attaching package: &#39;mosaic&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:Matrix&#39;:
## 
##     mean</code></pre>
<pre><code>## The following object is masked from &#39;package:scales&#39;:
## 
##     rescale</code></pre>
<pre><code>## The following objects are masked from &#39;package:dplyr&#39;:
## 
##     count, do, tally</code></pre>
<pre><code>## The following object is masked from &#39;package:purrr&#39;:
## 
##     cross</code></pre>
<pre><code>## The following object is masked from &#39;package:ggplot2&#39;:
## 
##     stat</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     binom.test, cor, cor.test, cov, fivenum, IQR, median, prop.test,
##     quantile, sd, t.test, var</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     max, mean, min, prod, range, sample, sum</code></pre>
<pre class="r"><code>df_stats(x ~ names, mean, median, sd, length, data = astronaut_coef)</code></pre>
<pre><code>##   response         names       mean     median         sd length
## 1        x   (Intercept) -674.33908 -674.02552 112.290626  10000
## 2        x year_centered   51.32627   51.36183   3.755572  10000</code></pre>
<pre class="r"><code>(-674.34 - 0) / 112.29</code></pre>
<pre><code>## [1] -6.005343</code></pre>
<pre class="r"><code>(51.33 - 0) / 3.76</code></pre>
<pre><code>## [1] 13.6516</code></pre>
<pre class="r"><code>broom::tidy(mission_lm)</code></pre>
<pre><code>## # A tibble: 2 × 5
##   term          estimate std.error statistic  p.value
##   &lt;chr&gt;            &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
## 1 (Intercept)     -676.     127.       -5.33 1.17e- 7
## 2 year_centered     51.4      3.53     14.5  2.01e-44</code></pre>
<pre class="r"><code>df_stats(x ~ names, median, length, IQR,
         quantile(c(0.005, .01, .025, .05, .95, .975, .99, .995)), 
        data = astronaut_coef)</code></pre>
<pre><code>##   response         names     median length        IQR       0.5%         1%
## 1        x   (Intercept) -674.02552  10000 151.764823 -964.65507 -937.91479
## 2        x year_centered   51.36183  10000   5.025531   41.55717   42.45517
##         2.5%         5%        95%      97.5%        99%      99.5%
## 1 -895.11235 -858.53202 -493.95525 -456.16807 -413.96853 -386.59291
## 2   43.92833   45.22576   57.49783   58.67778   60.04266   60.99965</code></pre>
<pre class="r"><code>confint(mission_lm)</code></pre>
<pre><code>##                    2.5 %     97.5 %
## (Intercept)   -924.46496 -426.91563
## year_centered   44.45546   58.32448</code></pre>
<pre class="r"><code>astronaut_coef %&gt;%
  filter(names == &#39;year_centered&#39;) %&gt;%
  gf_violin(1 ~ x, fill = &#39;gray85&#39;, draw_quantiles= c(0.025, .05, .5, .95, .975))</code></pre>
<p><img src="/lectures/08-bootstrap-class_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<pre class="r"><code>mission_lm &lt;- lm(hours_mission ~ year_centered, data = astronauts)
summary(mission_lm)</code></pre>
<pre><code>## 
## Call:
## lm(formula = hours_mission ~ year_centered, data = astronauts)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -2304.9  -990.7  -653.0   459.6  9484.8 
## 
## Coefficients:
##               Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)   -675.690    126.808  -5.328 1.17e-07 ***
## year_centered   51.390      3.535  14.539  &lt; 2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 1589 on 1275 degrees of freedom
## Multiple R-squared:  0.1422, Adjusted R-squared:  0.1415 
## F-statistic: 211.4 on 1 and 1275 DF,  p-value: &lt; 2.2e-16</code></pre>
<pre class="r"><code>astronauts &lt;- mutate(astronauts, log_hours = log(hours_mission + .0001))
theme_set(theme_bw(base_size = 18))
gf_point(log_hours ~ year_centered, data = astronauts) %&gt;% 
  gf_smooth(method = &#39;loess&#39;)</code></pre>
<p><img src="/lectures/08-bootstrap-class_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<pre class="r"><code>log_mission &lt;- lm(log_hours ~ year_centered, data = astronauts)
summary(log_mission)</code></pre>
<pre><code>## 
## Call:
## lm(formula = log_hours ~ year_centered, data = astronauts)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -16.3970  -0.6956  -0.2990   0.5906   3.6306 
## 
## Coefficients:
##               Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)   4.038768   0.125532   32.17   &lt;2e-16 ***
## year_centered 0.054273   0.003499   15.51   &lt;2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 1.573 on 1275 degrees of freedom
## Multiple R-squared:  0.1587, Adjusted R-squared:  0.1581 
## F-statistic: 240.6 on 1 and 1275 DF,  p-value: &lt; 2.2e-16</code></pre>
<pre class="r"><code>exp(coef(log_mission))</code></pre>
<pre><code>##   (Intercept) year_centered 
##     56.756352      1.055773</code></pre>
<pre class="r"><code>plot(log_mission)</code></pre>
<p><img src="/lectures/08-bootstrap-class_files/figure-html/unnamed-chunk-26-1.png" width="672" /><img src="/lectures/08-bootstrap-class_files/figure-html/unnamed-chunk-26-2.png" width="672" /><img src="/lectures/08-bootstrap-class_files/figure-html/unnamed-chunk-26-3.png" width="672" /><img src="/lectures/08-bootstrap-class_files/figure-html/unnamed-chunk-26-4.png" width="672" /></p>
</div>
</div>

          </div>

          



          
          
          <div class="article-widget">
            
<div class="post-nav">
  
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Previous</div>
    <a href="/lectures/08-bootstrap/" rel="next">Regression Bootstrap</a>
  </div>
  
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Next</div>
    <a href="/lectures/09-multiple-regression-p1/" rel="prev">Multiple Regression - Part 1</a>
  </div>
  
</div>

          </div>
          
        </div>

        <div class="body-footer">
          <p>Last updated on Oct 8, 2021</p>

          



          




          


        </div>

      </article>

      <footer class="site-footer">
  

  <p class="powered-by">
    
  </p>

  
  






  <p class="powered-by">
    
    
    
    Published with
    <a href="https://wowchemy.com/?utm_campaign=poweredby" target="_blank" rel="noopener">Wowchemy</a>  —
    the free, <a href="https://github.com/wowchemy/wowchemy-hugo-modules" target="_blank" rel="noopener">
    open source</a> website builder that empowers creators.
    
  </p>
</footer>


    </main>
  </div>
</div>

  </div>

  <div class="page-footer">
    
    
  </div>

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

      
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      

      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js" integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js" integrity="sha512-TDKKr+IvoqZnPzc3l35hdjpHD0m+b2EC2SrLEgKDRWpxf2rFCxemkgvJ5kfU48ip+Y+m2XVKyOCD85ybtlZDmw==" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/r.min.js"></script>
        
      

    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.js" integrity="sha512-SeiQaaDh73yrb56sTW/RgVdi/mMqNeM2oBwubFHagc5BkixSpP1fvqF47mKzPGWYSSy4RwbBunrJBQ4Co8fRWA==" crossorigin="anonymous"></script>
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'event' : "Events",
        'slides' : "Slides"
        };
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.2/anchor.min.js" integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    

    
    

    
    

    
    
    
    
    
    
    
    
    
    
      
      
    
    
    <script src="/js/wowchemy.min.d4185df71ecf716f1c4e7ef5f3d4e2b8.js"></script>

    






</body>
</html>
