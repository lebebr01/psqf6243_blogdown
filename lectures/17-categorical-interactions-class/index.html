<!DOCTYPE html><html lang="en-us" >

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  
  
  <meta name="generator" content="Wowchemy 5.0.0-beta.1 for Hugo">
  

  

  
  

  
  
  
  
  
    
    
    
  
  

  

  
  
  
    
  
  <meta name="description" content="Categorical Interactions">

  
  <link rel="alternate" hreflang="en-us" href="https://psqf6243.brandonlebeau.org/lectures/17-categorical-interactions-class/">

  







  




  
  
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  

  
  
  
  <meta name="theme-color" content="#1565c0">
  

  
  
  
  <script src="/js/mathjax-config.js"></script>
  

  
  
  
  
    
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha256-FMvZuGapsJLjouA6k7Eo2lusoAX9i0ShlWFG6qt7SLc=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous" media="print" onload="this.media='all'">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github.min.css" crossorigin="anonymous" title="hl-light" media="print" onload="this.media='all'">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" media="print" onload="this.media='all'" disabled>
        
      
    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.css" integrity="sha512-1xoFisiGdy9nvho8EgXuXvnpR5GAMSjFwp40gSRE3NwdUdIMIKuPa7bqoUhLD0O/5tPNhteAsE5XyyMi5reQVA==" crossorigin="anonymous" media="print" onload="this.media='all'">
    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/lazysizes.min.js" integrity="sha512-TmDwFLhg3UA4ZG0Eb4MIyT1O1Mb+Oww5kFG0uHqXsdbyZz9DcvYQhKpGgNkamAI6h2lGGZq2X8ftOJvF/XjTUg==" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" integrity="" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    

  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.3aad675291f323c3cd47ae187f0bf0d6.css">

  




  

  


  
  

  

  
  <link rel="manifest" href="/index.webmanifest">
  

  <link rel="icon" type="image/png" href="/images/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_32x32_fill_lanczos_center_3.png">
  <link rel="apple-touch-icon" type="image/png" href="/images/icon_hua2ec155b4296a9c9791d015323e16eb5_11927_192x192_fill_lanczos_center_3.png">

  <link rel="canonical" href="https://psqf6243.brandonlebeau.org/lectures/17-categorical-interactions-class/">

  
  
  
  
  
  
  
    
  
  
  <meta property="twitter:card" content="summary_large_image">
  
  <meta property="og:site_name" content="PSQF 6243">
  <meta property="og:url" content="https://psqf6243.brandonlebeau.org/lectures/17-categorical-interactions-class/">
  <meta property="og:title" content="Categorical Interactions - Class | PSQF 6243">
  <meta property="og:description" content="Categorical Interactions"><meta property="og:image" content="https://psqf6243.brandonlebeau.org/media/blue-balloon.jpg">
  <meta property="twitter:image" content="https://psqf6243.brandonlebeau.org/media/blue-balloon.jpg"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2021-12-08T00:00:00&#43;00:00">
    
    <meta property="article:modified_time" content="2021-12-08T00:00:00&#43;00:00">
  

  



  


  


  





  <title>Categorical Interactions - Class | PSQF 6243</title>

</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper  ">

  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.7de282f2047be3c570af3a58788341e7.js"></script>

  

<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="Close"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="Search...">
        
      </div>

      

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header">
    












<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">PSQF 6243</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">PSQF 6243</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-start" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
            
            
            
              
            
            
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#logistics"><span>Logistics</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/syllabus/"><span>Syllabus</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/schedule/"><span>Schedule</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/content/"><span>Content</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link  active" href="/lectures/"><span>Lecture Notes</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/assignments/"><span>Assignments</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
        

        <li class="nav-item">
          <a class="nav-link " href="/code/"><span>Software Resources</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
            
            
            
              
            
            
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#people"><span>People</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

      
      
        
      

      
      
      <li class="nav-item">
        <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
      </li>
      

      
      
      <li class="nav-item dropdown theme-dropdown">
        <a href="#" class="nav-link" data-toggle="dropdown" aria-haspopup="true" aria-label="Display preferences">
          <i class="fas fa-moon" aria-hidden="true"></i>
        </a>
        <div class="dropdown-menu">
          <a href="#" class="dropdown-item js-set-theme-light">
            <span>Light</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-dark">
            <span>Dark</span>
          </a>
          <a href="#" class="dropdown-item js-set-theme-auto">
            <span>Automatic</span>
          </a>
        </div>
      </li>
      

      

    </ul>

  </div>
</nav>


  </div>

  <div class="page-body">
    





<div class="container-fluid docs">
  <div class="row flex-xl-nowrap">
    <div class="col-12 col-md-3 col-xl-2 docs-sidebar">
      <form class="docs-search d-flex align-items-center">
  <button class="btn docs-toggle d-md-none p-0 mr-3" type="button" data-toggle="collapse" data-target="#docs-nav" aria-controls="docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    <span><i class="fas fa-bars"></i></span>
  </button>

  
  <button class="form-control sidebar-search js-search">
    <i class="fas fa-search pr-2"></i>
    <span class="sidebar-search-text">Search...</span>
    <span class="sidebar-search-shortcut">/</span>
  </button>
  
</form>

<nav class="collapse docs-links" id="docs-nav">
  
  
  
  
  
  

  
  
    

    
      

      
      
      


  
    
    
    
    
      
    
    

    
      <ul class="nav docs-sidenav">
        <li class=""><a href="/lectures/">Lecture Notes</a></li>
    
      


  <li class=""><a href="/lectures/review/">Review</a></li>



  <li class=""><a href="/lectures/review-class/">Review - class</a></li>



  <li class=""><a href="/lectures/intro-regression/">Intro to Linear Regression</a></li>



  <li class=""><a href="/lectures/linear-regression-class/">Intro to Linear Regression - class</a></li>



  <li class=""><a href="/lectures/regression-estimates/">Linear Regression Estimates</a></li>



  <li class=""><a href="/lectures/regression-estimates-class/">Linear Regression Estimates - class</a></li>



  <li class=""><a href="/lectures/least-squares-simulation/">Least Square Simulation</a></li>



  <li class=""><a href="/lectures/regression-inference-p1/">Regression Inference - Part 1</a></li>



  <li class=""><a href="/lectures/05-regression-inference/">Regression Inference - Part 1</a></li>



  <li class=""><a href="/lectures/05a-regression-inference/">Regression Inference - Part 2</a></li>



  <li class=""><a href="/lectures/05a-regression-inference-class/">Regression Inference - Part 2 - Class</a></li>



  <li class=""><a href="/lectures/06-t-vs-norm/">t vs Normal</a></li>



  <li class=""><a href="/lectures/07-regression-assumptions/">Regression Assumptions</a></li>



  <li class=""><a href="/lectures/07a-regression-assumptions/">Regression Assumptions - New Package</a></li>



  <li class=""><a href="/lectures/08-bootstrap/">Regression Bootstrap</a></li>



  <li class=""><a href="/lectures/08-bootstrap-class/">Regression Bootstrap - Class</a></li>



  <li class=""><a href="/lectures/09-multiple-regression-p1/">Multiple Regression - Part 1</a></li>



  <li class=""><a href="/lectures/09-multiple-regression-p1-class/">Multiple Regression - Part 1</a></li>



  <li class=""><a href="/lectures/10-model-comparison/">Model Comparison</a></li>



  <li class=""><a href="/lectures/10-model-comparison-class/">Model Comparison</a></li>



  <li class=""><a href="/lectures/11-multicollinearity/">Multicollinearity</a></li>



  <li class=""><a href="/lectures/11-multicollinearity-class/">Multicollinearity</a></li>



  <li class=""><a href="/lectures/12-regression-categorical/">Regression Categorical Predictors</a></li>



  <li class=""><a href="/lectures/12-regression-categorical-class/">Regression Categorical Predictors</a></li>



  <li class=""><a href="/lectures/13-regression-categorical-p2/">Regression Categorical Predictors - p2</a></li>



  <li class=""><a href="/lectures/13-regression-categorical-p2-class/">Regression Categorical Predictors - p2</a></li>



  <li class=""><a href="/lectures/14-pairwise/">Pairwise Contrasts</a></li>



  <li class=""><a href="/lectures/14-pairwise-class/">Pairwise Contrasts</a></li>



  <li class=""><a href="/lectures/15-multiple-categorical/">Multiple Categorical Predictors</a></li>



  <li class=""><a href="/lectures/15-multiple-categorical-class/">Multiple Categorical Predictors - Class</a></li>



  <li class=""><a href="/lectures/16-ancova/">Analysis of Covariance</a></li>



  <li class=""><a href="/lectures/16-ancova-class/">Analysis of Covariance - Class</a></li>



  <li class=""><a href="/lectures/17-categorical-interactions/">Categorical Interactions</a></li>



  <li class="active"><a href="/lectures/17-categorical-interactions-class/">Categorical Interactions - Class</a></li>



  <li class=""><a href="/lectures/18-chi-square/">Chi-Square</a></li>



  <li class=""><a href="/lectures/18-chi-square-class/">Chi-Square - Class</a></li>



  <li class=""><a href="/lectures/19-power/">Power</a></li>

      
    

    
      </ul>
    

  
</nav>

    </div>

    
    
    <div class="d-none d-xl-block col-xl-2 docs-toc">
      <ul class="nav toc-top">
        <li><a href="#" id="back_to_top" class="docs-toc-title">Contents</a></li>
      </ul>

      

      
    </div>
    

    <main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 docs-content" role="main">

      <article class="article">

        <div class="docs-article-container">
          

          <h1>Categorical Interactions - Class</h1>

          <div class="article-style">
            
<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>

<div id="TOC">

</div>

<div id="interactions-between-categorical-predictors" class="section level1">
<h1>Interactions between categorical predictors</h1>
<p>Often, with multiple categorical predictors, it is of interest to explore interactions. But these terms can be somewhat difficult to interpret, this section of notes will explore those types of interactions in more detail.</p>
<div id="multiple-categorical-attributes" class="section level2">
<h2>Multiple Categorical Attributes</h2>
<p>Let’s go back to the <a href="https://www.rideindego.com/about/data/">Indego data</a> from Q3 of 2021. Recall, this is the model that we first explored that did not have an interaction between them. Here is this model in equation form:</p>
<p><span class="math display">\[
duration = \beta_{0} + \beta_{1} bike\_type + \beta_{2} trip\_route\_category + \epsilon
\]</span></p>
<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──</code></pre>
<pre><code>## ✓ ggplot2 3.3.5     ✓ purrr   0.3.4
## ✓ tibble  3.1.6     ✓ dplyr   1.0.7
## ✓ tidyr   1.1.4     ✓ stringr 1.4.0
## ✓ readr   2.1.0     ✓ forcats 0.5.1</code></pre>
<pre><code>## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code>library(ggformula)</code></pre>
<pre><code>## Loading required package: ggstance</code></pre>
<pre><code>## 
## Attaching package: &#39;ggstance&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:ggplot2&#39;:
## 
##     geom_errorbarh, GeomErrorbarh</code></pre>
<pre><code>## Loading required package: scales</code></pre>
<pre><code>## 
## Attaching package: &#39;scales&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:purrr&#39;:
## 
##     discard</code></pre>
<pre><code>## The following object is masked from &#39;package:readr&#39;:
## 
##     col_factor</code></pre>
<pre><code>## Loading required package: ggridges</code></pre>
<pre><code>## 
## New to ggformula?  Try the tutorials: 
##  learnr::run_tutorial(&quot;introduction&quot;, package = &quot;ggformula&quot;)
##  learnr::run_tutorial(&quot;refining&quot;, package = &quot;ggformula&quot;)</code></pre>
<pre class="r"><code>library(broom)

theme_set(theme_bw(base_size = 18))

temp &lt;- tempfile()
download.file(&quot;https://u626n26h74f16ig1p3pt0f2g-wpengine.netdna-ssl.com/wp-content/uploads/2021/10/indego-trips-2021-q3.zip&quot;, temp)
bike &lt;- readr::read_csv(unz(temp, &quot;indego-trips-2021-q3.csv&quot;)) %&gt;%
   filter(duration &lt;= 120 &amp; passholder_type != &#39;Walk-up&#39;)</code></pre>
<pre><code>## Warning: One or more parsing issues, see `problems()` for details</code></pre>
<pre><code>## Rows: 300432 Columns: 15</code></pre>
<pre><code>## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## chr  (5): start_time, end_time, trip_route_category, passholder_type, bike_type
## dbl (10): trip_id, duration, start_station, start_lat, start_lon, end_statio...</code></pre>
<pre><code>## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<pre class="r"><code>unlink(temp)

bike_lm &lt;- lm(duration ~ bike_type + trip_route_category, data = bike)

tidy(bike_lm)</code></pre>
<pre><code>## # A tibble: 3 × 5
##   term                          estimate std.error statistic  p.value
##   &lt;chr&gt;                            &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
## 1 (Intercept)                     14.9      0.0482    310.   0       
## 2 bike_typestandard                0.375    0.0586      6.40 1.55e-10
## 3 trip_route_categoryRound Trip    7.25     0.0993     73.0  0</code></pre>
<p>Recall, that these data are unbalanced, therefore there is more data for those that have standard bikes and are one-way trips. We can formally see that with the following code chunk. The unbalanced nature is particularly large for the one way vs round trip groups.</p>
<pre class="r"><code>count(bike, bike_type)</code></pre>
<pre><code>## # A tibble: 2 × 2
##   bike_type      n
##   &lt;chr&gt;      &lt;int&gt;
## 1 electric  103626
## 2 standard  194166</code></pre>
<pre class="r"><code>count(bike, trip_route_category)</code></pre>
<pre><code>## # A tibble: 2 × 2
##   trip_route_category      n
##   &lt;chr&gt;                &lt;int&gt;
## 1 One Way             272026
## 2 Round Trip           25766</code></pre>
</div>
<div id="what-is-meant-my-marginaladjusted-means" class="section level2">
<h2>What is meant my marginal/adjusted means?</h2>
<p>What exactly do I mean when I say marginal or adjusted means? To explore this, let’s look at the table of means for all possible combinations of the two categorical attributes above.</p>
<pre class="r"><code>df_stats(duration ~ bike_type + trip_route_category, data = bike, mean) %&gt;%
  pivot_wider(names_from = &#39;trip_route_category&#39;, values_from = &quot;mean&quot;)</code></pre>
<pre><code>## # A tibble: 2 × 4
##   response bike_type `One Way` `Round Trip`
##   &lt;chr&gt;    &lt;chr&gt;         &lt;dbl&gt;        &lt;dbl&gt;
## 1 duration electric       15.2         19.5
## 2 duration standard       15.2         24.2</code></pre>
<p>Marginal means are the mean for one of the margins of the 2x2 table above. For example, to compute the marginal means for bike type attribute using the table above, we could do the following:</p>
<p><span class="math display">\[
\bar{electric} = \frac{(15.21 + 19.5)}{2} = 17.365
\]</span></p>
<p>and</p>
<p><span class="math display">\[
\bar{standard} = \frac{(15.17 + 24.19)}{2} = 19.68
\]</span></p>
<p>However, this is only true if the design is balanced. Since the data are unbalanced, this needs to be taken into account when doing the analysis and is what the regression analysis above is doing above. This is also sometimes referred to as <strong>Estimated Marginal Means</strong>. In R, these can be obtained with the <code>emmeans</code> package and generally with the <code>emmeans()</code> function.</p>
<pre class="r"><code>library(emmeans)

summary(emmeans(bike_lm, &quot;bike_type&quot;))</code></pre>
<pre><code>##  bike_type emmean     SE     df lower.CL upper.CL
##  electric    18.6 0.0621 297789     18.4     18.7
##  standard    18.9 0.0540 297789     18.8     19.0
## 
## Results are averaged over the levels of: trip_route_category 
## Confidence level used: 0.95</code></pre>
<p>Note, that the Estimated Marginal Means here are the same as the regression coefficient estimated above:</p>
<p><span class="math display">\[
18.93446 - 18.55949 = 0.375
\]</span></p>
<p>This can also be done for the trip route category attribute.</p>
<pre class="r"><code>summary(emmeans(bike_lm, &quot;trip_route_category&quot;))</code></pre>
<pre><code>##  trip_route_category emmean      SE     df lower.CL upper.CL
##  One Way              15.12 0.03057 297789    15.06    15.18
##  Round Trip           22.37 0.09511 297789    22.18    22.56
## 
## Results are averaged over the levels of: bike_type 
## Confidence level used: 0.95</code></pre>
<p>Again, this is the same as the regression coefficient estimate above and represents the main effect of trip route on bike rental duration.</p>
</div>
<div id="interaction-plot" class="section level2">
<h2>Interaction plot</h2>
<p>To fully understand what these terms represent, an interaction type plot (there is no interaction yet) can be generated. First, the predicted values (model implied bike rental duration means for each group) are generated, then plotted. The raw means are also generated for the 4 possible combinations of the two attributes.</p>
<pre class="r"><code>two_way_predict &lt;- broom::augment(bike_lm) %&gt;%
   distinct(bike_type, trip_route_category, .fitted)

two_way_predict</code></pre>
<pre><code>## # A tibble: 4 × 3
##   bike_type trip_route_category .fitted
##   &lt;chr&gt;     &lt;chr&gt;                 &lt;dbl&gt;
## 1 standard  One Way                15.3
## 2 electric  One Way                14.9
## 3 electric  Round Trip             22.2
## 4 standard  Round Trip             22.6</code></pre>
<pre class="r"><code>mean_duration &lt;- df_stats(duration ~ bike_type + trip_route_category, data =bike, mean, length)
mean_duration</code></pre>
<pre><code>##   response bike_type trip_route_category     mean length
## 1 duration  electric             One Way 15.21481  93807
## 2 duration  standard             One Way 15.16518 178219
## 3 duration  electric          Round Trip 19.52470   9819
## 4 duration  standard          Round Trip 24.19370  15947</code></pre>
<pre class="r"><code>gf_point(.fitted ~ bike_type, color = ~ trip_route_category, data = two_way_predict, size = 5) %&gt;%
  gf_line(size = 1.5, group = ~ trip_route_category) %&gt;%
  gf_labs(x = &quot;&quot;, y = &quot;Model Predicted Values&quot;, color = &#39;Trip Route&#39;) %&gt;%
  gf_point(mean ~ bike_type, color = ~ trip_route_category, data = mean_duration, shape = 15, size = 5) %&gt;%
  gf_line(mean ~ bike_type, color = ~ trip_route_category, group = ~ trip_route_category, data = mean_duration, linetype = 2)</code></pre>
<p><img src="/lectures/17-categorical-interactions-class_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
</div>
<div id="first-order-two-way-interaction-effect" class="section level2">
<h2>First order (two-way) interaction effect</h2>
<p>Let’s know explore if there is an interaction effect, the descriptive means shown in the figure above suggests there is some sort of interaction effect going on here. Let’s fit that model.</p>
<p><span class="math display">\[
duration = \beta_{0} + \beta_{1} bike\_type + \beta_{2} trip\_route\_category + \beta_{3} bike:trip + \epsilon
\]</span></p>
<pre class="r"><code>bike_lm_int &lt;- lm(duration ~ bike_type + trip_route_category + bike_type:trip_route_category, data = bike)

broom::glance(bike_lm_int)</code></pre>
<pre><code>## # A tibble: 1 × 12
##   r.squared adj.r.squared sigma statistic p.value    df    logLik     AIC    BIC
##       &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;
## 1    0.0194        0.0194  15.2     1964.       0     3 -1233157.  2.47e6 2.47e6
## # … with 3 more variables: deviance &lt;dbl&gt;, df.residual &lt;int&gt;, nobs &lt;int&gt;</code></pre>
<pre class="r"><code>broom::tidy(bike_lm_int)</code></pre>
<pre><code>## # A tibble: 4 × 5
##   term                                    estimate std.error statistic   p.value
##   &lt;chr&gt;                                      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 (Intercept)                              15.2       0.0497   306.    0        
## 2 bike_typestandard                        -0.0496    0.0614    -0.809 4.19e-  1
## 3 trip_route_categoryRound Trip             4.31      0.161     26.7   5.27e-157
## 4 bike_typestandard:trip_route_categoryR…   4.72      0.205     23.1   1.23e-117</code></pre>
<p>What do these coefficients mean? Let’s first explore them visually and then see what these mean.</p>
<pre class="r"><code>two_way_predict_int &lt;- broom::augment(bike_lm_int) %&gt;%
   distinct(bike_type, trip_route_category, .fitted)

two_way_predict_int</code></pre>
<pre><code>## # A tibble: 4 × 3
##   bike_type trip_route_category .fitted
##   &lt;chr&gt;     &lt;chr&gt;                 &lt;dbl&gt;
## 1 standard  One Way                15.2
## 2 electric  One Way                15.2
## 3 electric  Round Trip             19.5
## 4 standard  Round Trip             24.2</code></pre>
<pre class="r"><code>gf_point(.fitted ~ bike_type, color = ~ trip_route_category, data = two_way_predict_int, size = 5) %&gt;%
  gf_line(size = 1.5, group = ~ trip_route_category) %&gt;%
  gf_labs(x = &quot;&quot;, y = &quot;Model Predicted Values&quot;, color = &#39;Trip Route&#39;) %&gt;%
  gf_point(mean ~ bike_type, color = ~ trip_route_category, data = mean_duration, shape = 15, size = 5)</code></pre>
<p><img src="/lectures/17-categorical-interactions-class_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>Back to the coefficients and what do these mean here.</p>
<pre class="r"><code>broom::tidy(bike_lm_int)</code></pre>
<pre><code>## # A tibble: 4 × 5
##   term                                    estimate std.error statistic   p.value
##   &lt;chr&gt;                                      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 (Intercept)                              15.2       0.0497   306.    0        
## 2 bike_typestandard                        -0.0496    0.0614    -0.809 4.19e-  1
## 3 trip_route_categoryRound Trip             4.31      0.161     26.7   5.27e-157
## 4 bike_typestandard:trip_route_categoryR…   4.72      0.205     23.1   1.23e-117</code></pre>
<ul>
<li><em>Intercept</em>: The average bike rental duration for the reference group (electric bikes and one-way trips).</li>
<li><em>bike_typestandard</em>: This is like a slope, so for a one unit change in bike type (ie, moving from an electric bike to a standard bike), the estimated mean change in bike duration decreased by .05 minutes, holding other attributes constant.</li>
<li><em>trip_route_categoryRound Trip</em>: This is again like a slope, for a one unit change in trip route (ie, moving from a one-way trip to a round trip), the estimated mean change in bike duraction increased by 4.3 minutes, holder other attributes constant.</li>
<li><em>bike_typestandard:trip_route_categoryRound Trip</em>: This is the interaction effect and is the <strong>additional</strong> mean level change for standard bikes <em>and</em> round trips, holding other attributes constant.</li>
</ul>
<p>We can get the estimated means for the 4 groups as follows:</p>
<p><span class="math display">\[
\hat{\mu}_{elec-1way} = 15.2
\]</span>
<span class="math display">\[
\hat{\mu}_{elec-RT} = 15.2 + 4.3
\]</span>
<span class="math display">\[
\hat{\mu}_{stand-1way} = 15.2 - .05
\]</span>
<span class="math display">\[
\hat{\mu}_{stand-RT} = 15.2 - 0.05 + 4.3 + 4.7
\]</span></p>
</div>
<div id="second-order-three-way-interaction" class="section level2">
<h2>Second order (three-way) interaction</h2>
<p>The more attributes that interact with one another makes the model more complicated and difficult to interpret. Still, let’s try a second order or three way interaction.</p>
<pre class="r"><code>count(bike, passholder_type)</code></pre>
<pre><code>## # A tibble: 3 × 2
##   passholder_type      n
##   &lt;chr&gt;            &lt;int&gt;
## 1 Day Pass         36468
## 2 Indego30        215556
## 3 Indego365        45768</code></pre>
<pre class="r"><code>bike_lm_main &lt;- lm(duration ~ bike_type + trip_route_category + passholder_type, data = bike)

broom::glance(bike_lm_main)</code></pre>
<pre><code>## # A tibble: 1 × 12
##   r.squared adj.r.squared sigma statistic p.value    df    logLik     AIC    BIC
##       &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;
## 1    0.0590        0.0590  14.9     4668.       0     4 -1227019.  2.45e6 2.45e6
## # … with 3 more variables: deviance &lt;dbl&gt;, df.residual &lt;int&gt;, nobs &lt;int&gt;</code></pre>
<pre class="r"><code>broom::tidy(bike_lm_main)</code></pre>
<pre><code>## # A tibble: 5 × 5
##   term                          estimate std.error statistic  p.value
##   &lt;chr&gt;                            &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
## 1 (Intercept)                     22.7      0.0863     263.  0       
## 2 bike_typestandard                0.804    0.0575      14.0 1.82e-44
## 3 trip_route_categoryRound Trip    6.08     0.0977      62.2 0       
## 4 passholder_typeIndego30         -8.60     0.0849    -101.  0       
## 5 passholder_typeIndego365       -11.4      0.105     -109.  0</code></pre>
<pre class="r"><code>bike_lm_3way &lt;- lm(duration ~ bike_type * trip_route_category * passholder_type, data = bike)

broom::glance(bike_lm_3way)</code></pre>
<pre><code>## # A tibble: 1 × 12
##   r.squared adj.r.squared sigma statistic p.value    df    logLik     AIC    BIC
##       &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;
## 1    0.0617        0.0617  14.9     1780.       0    11 -1226591.  2.45e6 2.45e6
## # … with 3 more variables: deviance &lt;dbl&gt;, df.residual &lt;int&gt;, nobs &lt;int&gt;</code></pre>
<pre class="r"><code>broom::tidy(bike_lm_3way)</code></pre>
<pre><code>## # A tibble: 12 × 5
##    term                                    estimate std.error statistic  p.value
##    &lt;chr&gt;                                      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
##  1 (Intercept)                               23.9       0.132   181.    0       
##  2 bike_typestandard                         -0.800     0.173    -4.63  3.67e- 6
##  3 trip_route_categoryRound Trip              0.426     0.314     1.36  1.74e- 1
##  4 passholder_typeIndego30                   -9.67      0.144   -67.3   0       
##  5 passholder_typeIndego365                 -11.9       0.185   -64.0   0       
##  6 bike_typestandard:trip_route_categoryR…    8.04      0.424    19.0   3.83e-80
##  7 bike_typestandard:passholder_typeIndeg…    1.42      0.187     7.60  2.92e-14
##  8 bike_typestandard:passholder_typeIndeg…    0.738     0.233     3.17  1.53e- 3
##  9 trip_route_categoryRound Trip:passhold…    3.64      0.369     9.86  6.42e-23
## 10 trip_route_categoryRound Trip:passhold…   -0.249     0.661    -0.377 7.06e- 1
## 11 bike_typestandard:trip_route_categoryR…   -3.78      0.490    -7.72  1.17e-14
## 12 bike_typestandard:trip_route_categoryR…   -2.47      0.801    -3.09  2.04e- 3</code></pre>
<pre class="r"><code>anova(bike_lm_main, bike_lm_3way)</code></pre>
<pre><code>## Analysis of Variance Table
## 
## Model 1: duration ~ bike_type + trip_route_category + passholder_type
## Model 2: duration ~ bike_type * trip_route_category * passholder_type
##   Res.Df      RSS Df Sum of Sq      F    Pr(&gt;F)    
## 1 297787 66124810                                  
## 2 297780 65935023  7    189787 122.45 &lt; 2.2e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>Interpreting these coefficients can be challenging, visualizing them can be a more effective way to undersand the impact these may have. The following steps will be used to visualize these model results:</p>
<ol style="list-style-type: decimal">
<li>Generate model-implied or predicted values for each combination of model values</li>
<li>Plot those model implied means</li>
</ol>
<pre class="r"><code>count(bike, passholder_type)</code></pre>
<pre><code>## # A tibble: 3 × 2
##   passholder_type      n
##   &lt;chr&gt;            &lt;int&gt;
## 1 Day Pass         36468
## 2 Indego30        215556
## 3 Indego365        45768</code></pre>
<pre class="r"><code>broom::augment(bike_lm_3way)</code></pre>
<pre><code>## # A tibble: 297,792 × 10
##    duration bike_type trip_route_category passholder_type .fitted .resid    .hat
##       &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;               &lt;chr&gt;             &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;
##  1       11 standard  One Way             Indego30           14.8  -3.83 7.68e-6
##  2        4 standard  One Way             Indego30           14.8 -10.8  7.68e-6
##  3       56 electric  One Way             Indego30           14.2  41.8  1.47e-5
##  4       55 electric  One Way             Indego30           14.2  40.8  1.47e-5
##  5        5 standard  One Way             Indego365          12.0  -6.96 3.32e-5
##  6       13 electric  One Way             Indego30           14.2  -1.21 1.47e-5
##  7       12 standard  One Way             Indego30           14.8  -2.83 7.68e-6
##  8       29 electric  One Way             Indego30           14.2  14.8  1.47e-5
##  9       13 standard  One Way             Indego30           14.8  -1.83 7.68e-6
## 10        7 electric  One Way             Indego30           14.2  -7.21 1.47e-5
## # … with 297,782 more rows, and 3 more variables: .sigma &lt;dbl&gt;, .cooksd &lt;dbl&gt;,
## #   .std.resid &lt;dbl&gt;</code></pre>
<pre class="r"><code>three_way_predict_int &lt;- broom::augment(bike_lm_3way) %&gt;%
   distinct(bike_type, trip_route_category, passholder_type, .fitted)

three_way_predict_int</code></pre>
<pre><code>## # A tibble: 12 × 4
##    bike_type trip_route_category passholder_type .fitted
##    &lt;chr&gt;     &lt;chr&gt;               &lt;chr&gt;             &lt;dbl&gt;
##  1 standard  One Way             Indego30           14.8
##  2 electric  One Way             Indego30           14.2
##  3 standard  One Way             Indego365          12.0
##  4 electric  Round Trip          Day Pass           24.3
##  5 standard  One Way             Day Pass           23.1
##  6 standard  Round Trip          Indego30           23.2
##  7 standard  Round Trip          Day Pass           31.5
##  8 electric  One Way             Day Pass           23.9
##  9 electric  Round Trip          Indego30           18.3
## 10 electric  One Way             Indego365          12.0
## 11 standard  Round Trip          Indego365          17.7
## 12 electric  Round Trip          Indego365          12.2</code></pre>
<pre class="r"><code>gf_point(.fitted ~ bike_type, color = ~ passholder_type, data = three_way_predict_int, size = 5) %&gt;%
  gf_line(size = 1.5, group = ~ passholder_type) %&gt;%
  gf_facet_wrap(~ trip_route_category) %&gt;%
  gf_labs(x = &quot;&quot;, y = &quot;Model Predicted Values&quot;, color = &#39;Pass Type&#39;)</code></pre>
<p><img src="/lectures/17-categorical-interactions-class_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<pre class="r"><code>count(bike, bike_type, passholder_type)</code></pre>
<pre><code>## # A tibble: 6 × 3
##   bike_type passholder_type      n
##   &lt;chr&gt;     &lt;chr&gt;            &lt;int&gt;
## 1 electric  Day Pass         15457
## 2 electric  Indego30         74429
## 3 electric  Indego365        13740
## 4 standard  Day Pass         21011
## 5 standard  Indego30        141127
## 6 standard  Indego365        32028</code></pre>
<pre class="r"><code>plot(bike_lm_3way, which = 1:5)</code></pre>
<p><img src="/lectures/17-categorical-interactions-class_files/figure-html/unnamed-chunk-22-1.png" width="672" /><img src="/lectures/17-categorical-interactions-class_files/figure-html/unnamed-chunk-22-2.png" width="672" /><img src="/lectures/17-categorical-interactions-class_files/figure-html/unnamed-chunk-22-3.png" width="672" /><img src="/lectures/17-categorical-interactions-class_files/figure-html/unnamed-chunk-22-4.png" width="672" /><img src="/lectures/17-categorical-interactions-class_files/figure-html/unnamed-chunk-22-5.png" width="672" /></p>
<pre class="r"><code>bike_lm_3way &lt;- lm(log(duration) ~ bike_type * trip_route_category * passholder_type, data = bike)

broom::glance(bike_lm_3way)</code></pre>
<pre><code>## # A tibble: 1 × 12
##   r.squared adj.r.squared sigma statistic p.value    df   logLik     AIC     BIC
##       &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
## 1    0.0611        0.0610 0.834     1760.       0    11 -368496. 737017. 737155.
## # … with 3 more variables: deviance &lt;dbl&gt;, df.residual &lt;int&gt;, nobs &lt;int&gt;</code></pre>
<pre class="r"><code>broom::tidy(bike_lm_3way)</code></pre>
<pre><code>## # A tibble: 12 × 5
##    term                                    estimate std.error statistic  p.value
##    &lt;chr&gt;                                      &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
##  1 (Intercept)                              2.92      0.00739   395.    0       
##  2 bike_typestandard                       -0.00560   0.00968    -0.578 5.63e- 1
##  3 trip_route_categoryRound Trip           -0.776     0.0176    -44.2   0       
##  4 passholder_typeIndego30                 -0.569     0.00806   -70.6   0       
##  5 passholder_typeIndego365                -0.682     0.0104    -65.6   0       
##  6 bike_typestandard:trip_route_categoryR…  0.500     0.0238     21.0   3.36e-98
##  7 bike_typestandard:passholder_typeIndeg…  0.0665    0.0105      6.36  2.01e-10
##  8 bike_typestandard:passholder_typeIndeg…  0.0288    0.0130      2.21  2.70e- 2
##  9 trip_route_categoryRound Trip:passhold…  0.211     0.0207     10.2   1.77e-24
## 10 trip_route_categoryRound Trip:passhold… -0.145     0.0370     -3.91  9.25e- 5
## 11 bike_typestandard:trip_route_categoryR… -0.100     0.0274     -3.66  2.55e- 4
## 12 bike_typestandard:trip_route_categoryR…  0.112     0.0449      2.50  1.23e- 2</code></pre>
<pre class="r"><code>exp(0.11)</code></pre>
<pre><code>## [1] 1.116278</code></pre>
<pre class="r"><code>plot(bike_lm_3way)</code></pre>
<p><img src="/lectures/17-categorical-interactions-class_files/figure-html/unnamed-chunk-25-1.png" width="672" /><img src="/lectures/17-categorical-interactions-class_files/figure-html/unnamed-chunk-25-2.png" width="672" /><img src="/lectures/17-categorical-interactions-class_files/figure-html/unnamed-chunk-25-3.png" width="672" /><img src="/lectures/17-categorical-interactions-class_files/figure-html/unnamed-chunk-25-4.png" width="672" /></p>
<pre class="r"><code>three_way_predict_int &lt;- broom::augment(bike_lm_3way) %&gt;%
   distinct(bike_type, trip_route_category, passholder_type, .fitted) %&gt;%
   mutate(trans_means = exp(.fitted))

three_way_predict_int</code></pre>
<pre><code>## # A tibble: 12 × 5
##    bike_type trip_route_category passholder_type .fitted trans_means
##    &lt;chr&gt;     &lt;chr&gt;               &lt;chr&gt;             &lt;dbl&gt;       &lt;dbl&gt;
##  1 standard  One Way             Indego30           2.41       11.2 
##  2 electric  One Way             Indego30           2.35       10.5 
##  3 standard  One Way             Indego365          2.26        9.62
##  4 electric  Round Trip          Day Pass           2.15        8.55
##  5 standard  One Way             Day Pass           2.92       18.5 
##  6 standard  Round Trip          Indego30           2.25        9.48
##  7 standard  Round Trip          Day Pass           2.64       14.0 
##  8 electric  One Way             Day Pass           2.92       18.6 
##  9 electric  Round Trip          Indego30           1.79        5.98
## 10 electric  One Way             Indego365          2.24        9.40
## 11 standard  Round Trip          Indego365          1.95        7.06
## 12 electric  Round Trip          Indego365          1.32        3.74</code></pre>
<pre class="r"><code>gf_point(trans_means ~ passholder_type, color = ~ bike_type, data = three_way_predict_int, size = 5) %&gt;%
  gf_line(size = 1.5, group = ~ bike_type) %&gt;%
  gf_facet_wrap(~ trip_route_category) %&gt;%
  gf_labs(x = &quot;&quot;, y = &quot;Model Predicted Values&quot;, color = &#39;Bike Type&#39;)</code></pre>
<p><img src="/lectures/17-categorical-interactions-class_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
</div>
</div>

          </div>

          



          
          
          <div class="article-widget">
            
<div class="post-nav">
  
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Previous</div>
    <a href="/lectures/17-categorical-interactions/" rel="next">Categorical Interactions</a>
  </div>
  
  
  
  <div class="post-nav-item">
    <div class="meta-nav">Next</div>
    <a href="/lectures/18-chi-square/" rel="prev">Chi-Square</a>
  </div>
  
</div>

          </div>
          
        </div>

        <div class="body-footer">
          <p>Last updated on Dec 8, 2021</p>

          



          




          


        </div>

      </article>

      <footer class="site-footer">
  

  <p class="powered-by">
    
  </p>

  
  






  <p class="powered-by">
    
    
    
    Published with
    <a href="https://wowchemy.com/?utm_campaign=poweredby" target="_blank" rel="noopener">Wowchemy</a>  —
    the free, <a href="https://github.com/wowchemy/wowchemy-hugo-modules" target="_blank" rel="noopener">
    open source</a> website builder that empowers creators.
    
  </p>
</footer>


    </main>
  </div>
</div>

  </div>

  <div class="page-footer">
    
    
  </div>

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

      
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      

      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js" integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js" integrity="sha512-TDKKr+IvoqZnPzc3l35hdjpHD0m+b2EC2SrLEgKDRWpxf2rFCxemkgvJ5kfU48ip+Y+m2XVKyOCD85ybtlZDmw==" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/r.min.js"></script>
        
      

    

    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.js" integrity="sha512-SeiQaaDh73yrb56sTW/RgVdi/mMqNeM2oBwubFHagc5BkixSpP1fvqF47mKzPGWYSSy4RwbBunrJBQ4Co8fRWA==" crossorigin="anonymous"></script>
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    
    
    
    
    <script>
      const search_config = {"indexURI":"/index.json","minLength":1,"threshold":0.3};
      const i18n = {"no_results":"No results found","placeholder":"Search...","results":"results found"};
      const content_type = {
        'post': "Posts",
        'project': "Projects",
        'publication' : "Publications",
        'event' : "Events",
        'slides' : "Slides"
        };
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.2/anchor.min.js" integrity="sha512-I7w3ZdSFzw5j3jU3ZkNikBNeIrl3i+hEuEdwNmqUJvwNcaBUNcijnP2gd9DtGlgVYDplfjGoD8vTNsID+lCjqg==" crossorigin="anonymous"></script>
    <script>
      anchors.add();
    </script>
    

    
    
    <script id="search-hit-fuse-template" type="text/x-template">
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script>
    

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
    

    
    

    
    
    

    
    

    
    

    
    
    
    
    
    
    
    
    
    
      
      
    
    
    <script src="/js/wowchemy.min.d4185df71ecf716f1c4e7ef5f3d4e2b8.js"></script>

    






</body>
</html>
